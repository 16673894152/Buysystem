<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lzr.dao.ShanghuMapping">

<!-- custom -->
    <!-- 在这里写你的自定义代码,每次生成.xml文件都会保留这一段代码 -->


<!-- /custom -->


    <!-- resultMap映射 -->
    <resultMap id="ShanghuMap" type="Shanghu">
        <id column="shid" property="shid"/>
        <result column="shzhucetime" property="shzhucetime"/>
        <result column="shname" property="shname"/>
        <result column="shnumber" property="shnumber"/>
        <result column="shpass" property="shpass"/>
        <result column="shmoney" property="shmoney"/>
        <result column="shcard" property="shcard"/>
        <result column="shimg" property="shimg"/>
        <result column="shaddress" property="shaddress"/>
        <result column="shstate" property="shstate"/>
        <result column="isdelete" property="isdelete"/>
        <collection property="orderss" javaType="list" ofType="com.lzr.vo.Orders"
           column="shid" select="com.lzr.dao.OrdersMapping.queryByshid" fetchType="lazy"/>
    </resultMap>

    <!-- 查询所有方法 -->
    <select id="queryAll" resultMap="ShanghuMap">
       select shcard,shaddress,shmoney,shstate,shid,shzhucetime,shnumber,shname,shimg,isdelete,shpass from shanghu;
    </select>

    <!-- 根据主键id查询数据方法 -->
    <select id="queryById" parameterType="int" resultMap="ShanghuMap">
       select shcard,shaddress,shmoney,shstate,shid,shzhucetime,shnumber,shname,shimg,isdelete,shpass from shanghu where shid = #{shid};
    </select>

    <!-- 根据Shanghu条件查询数据方法 -->
    <select id="query" resultMap="ShanghuMap">
        select shcard,shaddress,shmoney,shstate,shid,shzhucetime,shnumber,shname,shimg,isdelete,shpass 
        from shanghu 
        <where>
            <if test="shid != null"> and shid = #{shid}</if>
            <if test="shzhucetime != null"> and shzhucetime = #{shzhucetime}</if>
            <if test="shname != null"> and shname = #{shname}</if>
            <if test="shnumber != null"> and shnumber = #{shnumber}</if>
            <if test="shpass != null"> and shpass = #{shpass}</if>
            <if test="shmoney != null"> and shmoney = #{shmoney}</if>
            <if test="shcard != null"> and shcard = #{shcard}</if>
            <if test="shimg != null"> and shimg = #{shimg}</if>
            <if test="shaddress != null"> and shaddress = #{shaddress}</if>
            <if test="shstate != null"> and shstate = #{shstate}</if>
            <if test="isdelete != null"> and isdelete = #{isdelete}</if> 
        </where>
    </select>

    <!-- 根据Shanghu条件模糊查询数据方法 -->
    <select id="queryLike" resultMap="ShanghuMap">
        select shcard,shaddress,shmoney,shstate,shid,shzhucetime,shnumber,shname,shimg,isdelete,shpass 
        from shanghu 
        <where>
            <if test="shid != null"> and shid like concat('%',#{shid},'%')</if>
            <if test="shzhucetime != null"> and shzhucetime like concat('%',#{shzhucetime},'%')</if>
            <if test="shname != null"> and shname like concat('%',#{shname},'%')</if>
            <if test="shnumber != null"> and shnumber like concat('%',#{shnumber},'%')</if>
            <if test="shpass != null"> and shpass like concat('%',#{shpass},'%')</if>
            <if test="shmoney != null"> and shmoney like concat('%',#{shmoney},'%')</if>
            <if test="shcard != null"> and shcard like concat('%',#{shcard},'%')</if>
            <if test="shimg != null"> and shimg like concat('%',#{shimg},'%')</if>
            <if test="shaddress != null"> and shaddress like concat('%',#{shaddress},'%')</if>
            <if test="shstate != null"> and shstate like concat('%',#{shstate},'%')</if>
            <if test="isdelete != null"> and isdelete like concat('%',#{isdelete},'%')</if> 
        </where>
    </select>



    <!-- 根据Shanghu插入数据方法 -->
    <insert id="insert" parameterType="Shanghu" useGeneratedKeys="false" keyColumn="shid" keyProperty="shid">
        insert into shanghu (shid,shzhucetime,shname,shnumber,shpass,shmoney,shcard,shimg,shaddress,shstate,isdelete) 
        values (#{shid},#{shzhucetime},#{shname},#{shnumber},#{shpass},#{shmoney},#{shcard},#{shimg},#{shaddress},#{shstate},#{isdelete}); 
    </insert>


    <!-- 根据Shanghu条件修改单条数据方法,从传入对象获取主键id -->
    <update id="updateById" parameterType="Shanghu">
        update shanghu 
        <set>
            <if test="shzhucetime != null">shzhucetime = #{shzhucetime},</if>
            <if test="shname != null">shname = #{shname},</if>
            <if test="shnumber != null">shnumber = #{shnumber},</if>
            <if test="shpass != null">shpass = #{shpass},</if>
            <if test="shmoney != null">shmoney = #{shmoney},</if>
            <if test="shcard != null">shcard = #{shcard},</if>
            <if test="shimg != null">shimg = #{shimg},</if>
            <if test="shaddress != null">shaddress = #{shaddress},</if>
            <if test="shstate != null">shstate = #{shstate},</if>
            <if test="isdelete != null">isdelete = #{isdelete},</if>
        </set>
        where shid = #{shid}
    </update>


    <!-- 根据Shanghu条件删除单条数据方法,从传入对象获取id -->
    <delete id="deleteById" parameterType="int">
        delete from shanghu where shid = #{shid};
    </delete>




</mapper>